(this["webpackJsonpreact-context-hooks-sw"]=this["webpackJsonpreact-context-hooks-sw"]||[]).push([[0],[,,,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/SWAPI.17105726.png"},function(e,t,n){e.exports=n(24)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(8),l=n.n(c),u=(n(16),n(9)),o=n.n(u),i=Object(a.createContext)(),s=n(1),m=function(e,t){return function(e,t){var n=Object(s.a)(t);if(n.splice(0,1),!n.length)return e;var a=e;return n.forEach((function(e){var t=e.numericValues,n=t.column,r=t.comparison,c=t.value;"coluna"!==n&&"Maior que"===r&&c>=0?a=a.filter((function(e){return parseFloat(e[n])>parseFloat(c)})):"coluna"!==n&&"Menor que"===r&&c>=0?a=a.filter((function(e){return parseFloat(e[n])<parseFloat(c)})):"coluna"!==n&&"ou Igual a"===r&&c>=0&&(a=a.filter((function(e){return parseFloat(e[n])===parseFloat(c)})))})),a}(function(e,t){var n=t[0].name;return n?e.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())})):e}(e,t),t)};n(17);var f=function(){var e=Object(a.useContext)(i),t=e.data,n=e.filters;Object(a.useEffect)((function(){}),[n]);var c=Object.keys(t[0]),l=m(t,n);return r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,c.map((function(e){return"residents"!==e?r.a.createElement("th",{key:e},e):null})))),r.a.createElement("tbody",null,l.map((function(e){return r.a.createElement("tr",{key:"".concat(e," ").concat(Math.random())},Object.keys(e).map((function(t){return"residents"!==t?r.a.createElement("td",{key:e[t]},e[t]):null})))}))))};n(18);var d=function(){var e=Object(a.useContext)(i),t=e.fetchPlanets,n=e.data,c=e.isLoading;return Object(a.useEffect)((function(){t()}),[]),r.a.createElement("div",{className:"table-container"},c&&r.a.createElement("div",{"data-testid":"loading",className:"loading-container"},r.a.createElement(o.a,{type:"spin",color:"yellow",height:150})),!c&&r.a.createElement(f,{data:n}))},v=n(10),p=n.n(v);var E=function(){return r.a.createElement("img",{src:p.a,className:"title-SWAPI",alt:"SWAPI"})},b=n(5),j=n(6),h=(n(19),function(e,t,n){var a=e.target.value;n((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(b.a)({},t,a))}))});var O=function(){var e=Object(a.useContext)(i),t=e.selectors,n=e.actualFilter,c=e.setActualFilter,l=n.column,u=n.comparison,o=n.value;return r.a.createElement("div",{className:"filters-container"},r.a.createElement("div",{className:"filters-title"},"Escolha o filtro: "),r.a.createElement("select",{"data-testid":"col",className:"select-filter",value:l,onChange:function(e){return h(e,"column",c)}},t.map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))),r.a.createElement("select",{"data-testid":"comp",className:"select-filter",value:u,onChange:function(e){return h(e,"comparison",c)}},["-","Maior que","Menor que","ou Igual a"].map((function(e){return r.a.createElement("option",{key:e},e)}))),r.a.createElement("input",{"data-testid":"value-comp",className:"input-filter",type:"number",onChange:function(e){return h(e,"value",c)},value:o}))};n(20);var g=function(){var e=Object(a.useContext)(i).addFilter;return r.a.createElement("div",null,r.a.createElement("button",{type:"button",onClick:function(){return e()},className:"filter-btn","data-testid":"btn-filter"},"Filtrar"))},N=function(){var e=Object(a.useContext)(i).selectors;return console.log(e.length),r.a.createElement("div",null,1!==e.length&&r.a.createElement(O,null),1!==e.length&&r.a.createElement(g,null))},k=(n(21),function(e,t,n){var a=Object(s.a)(e);return a.splice(0,1),r.a.createElement("div",{className:"active-filters-container"},a.map((function(e,a){return r.a.createElement("div",{key:e.numericValues.column,className:"active-filters"},r.a.createElement("button",{"data-testid":"delete-".concat(e.numericValues.column),type:"button",onClick:function(e){return function(e,t,n){var a=e.target,r=a.id,c=a.value;t((function(e){return[].concat(Object(s.a)(e),[c])})),n((function(e){return Object(s.a)(e.filter((function(e,t){return t!==parseInt(r,10)})))}))}(e,t,n)},id:a+1,value:e.numericValues.column}," X "),r.a.createElement("div",{className:"filter-description-container"},r.a.createElement("div",{className:"filter-description"},e.numericValues.column),r.a.createElement("div",{className:"filter-description"},e.numericValues.comparison),r.a.createElement("div",{className:"filter-description"},e.numericValues.value)))})))});var y=function(){var e=Object(a.useContext)(i),t=e.filters,n=e.setSelectors,c=e.setFilters;return r.a.createElement("div",null,t.length>1&&k(t,n,c))};n(22);var C=function(){var e=Object(a.useContext)(i).setFilters;return r.a.createElement("div",{className:"input-container"},r.a.createElement("div",{className:"input-title"},"Pesquisar"),r.a.createElement("input",{"data-testid":"name-inp",className:"input-name",placeholder:"Procurar planeta",onChange:function(t){return n=t.target.value,void e((function(e){var t=Object(s.a)(e);return t[0]={name:n},console.log(t),t}));var n}}))},F=n(2),x=function(){return fetch("".concat("https://swapi-trybe.herokuapp.com/api","/planets")).then((function(e){return e.json().then((function(t){return e.ok?Promise.resolve(t):Promise.reject(t)}))}))},P=function(e){var t=e.children,n=Object(a.useState)(["coluna","population","orbital_period","diameter","rotation_period","surface_water"]),c=Object(F.a)(n,2),l=c[0],u=c[1],o=Object(a.useState)([]),m=Object(F.a)(o,2),f=m[0],d=m[1],v=Object(a.useState)(!0),p=Object(F.a)(v,2),E=p[0],b=p[1],j={column:"coluna",comparison:"-",value:0},h=Object(a.useState)([{name:""}]),O=Object(F.a)(h,2),g=O[0],N=O[1],k=Object(a.useState)(j),y=Object(F.a)(k,2),C=y[0],P=y[1],S={selectors:l,setSelectors:u,data:f,fetchPlanets:function(){x().then((function(e){return function(e){var t=e.results;d(t),b(!1)}(e)}))},isLoading:E,filters:g,setFilters:N,actualFilter:C,setActualFilter:P,addFilter:function(){var e=C.column,t=C.comparison,n=C.value;"coluna"!==e&&"-"!==t&&n>=0?function(e,t,n){u((function(t){return Object(s.a)(t.filter((function(t){return t!==e})))})),N((function(a){return[].concat(Object(s.a)(a),[{numericValues:{column:e,comparison:t,value:n}}])})),P(j)}(e,t,n):alert("Escolha os tr\xeas campos")}};return r.a.createElement(i.Provider,{value:S},t)};n(23);var S=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(P,null,r.a.createElement(E,null),r.a.createElement(C,null),r.a.createElement(N,null),r.a.createElement(y,null),r.a.createElement(d,null)))};l.a.render(r.a.createElement(S,null),document.getElementById("root"))}],[[11,1,2]]]);
//# sourceMappingURL=main.82c99a59.chunk.js.map